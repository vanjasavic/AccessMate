	<!-- AccessMate -->
		  <div id="accessibility-wrapper">
        <button id="accessibility-toggle" class="uk-button uk-button-primary uk-border-rounded"
            uk-toggle="target: #accessibility-panel" type="button">
            Prilagodba pristupačnosti
        </button>

        <div id="accessibility-panel" class="uk-card uk-card-default uk-card-body uk-border-rounded" hidden>
            <div class="uk-margin">
                <label class="uk-form-label" for="font-size">Veličina slova:</label>
                <input class="uk-range" type="range" id="font-size" min="12" max="24" step="1" value="16">
            </div>
            <div class="uk-margin">
                <label class="uk-form-label" for="font-weight">Debljina slova:</label>
                <input class="uk-range" type="range" id="font-weight" min="300" max="900" step="100" value="400">
            </div>
            <div class="uk-margin">
                <label class="uk-form-label" for="letter-spacing">Slovni razmak:</label>
                <input class="uk-range" type="range" id="letter-spacing" min="0" max="5" step="0.5" value="0">
            </div>
            <div class="uk-margin">
                <label class="uk-form-label" for="line-height">Prored teksta:</label>
                <input class="uk-range" type="range" id="line-height" min="1" max="2" step="0.1" value="1.5">
            </div>
            <div class="uk-margin">
                <label class="uk-form-label" for="background-color">Boja pozadine:</label>
                <select class="uk-select uk-border-rounded" id="background-color">
                    <option value="white">Bijela</option>
                    <option value="black">Crna</option>
                    <option value="yellow">Žuta</option>
                </select>
            </div>
            <div class="uk-margin uk-grid-small uk-child-width-auto uk-grid">
                <label><input class="uk-checkbox" type="checkbox" id="emphasize-links"> Naglašeni linkovi</label>
            </div>
        </div>
    </div>

    <script>
    class AccessibilityPlugin {
        constructor() {
            this.wrapper = document.getElementById('accessibility-wrapper');
            this.panel = document.getElementById('accessibility-panel');
            this.toggle = document.getElementById('accessibility-toggle');
            this.initializeControls();
        }

        initializeControls() {
            this.addControl('font-size', this.changeFontSize);
            this.addControl('font-weight', this.changeFontWeight);
            this.addControl('letter-spacing', this.changeLetterSpacing);
            this.addControl('line-height', this.changeLineHeight);
            this.addControl('background-color', this.changeBackgroundColor);
            this.addCheckboxControl('emphasize-links', this.emphasizeLinks);
        }

        addControl(id, callback) {
            const control = document.getElementById(id);
            if (control) {
                control.addEventListener('change', (e) => callback.call(this, e.target.value));
            }
        }

        addCheckboxControl(id, callback) {
            const control = document.getElementById(id);
            if (control) {
                control.addEventListener('change', (e) => callback.call(this, e.target.checked));
            }
        }

        changeFontSize(value) {
            document.body.style.fontSize = `${value}px`;
            this.resetPluginStyles();
        }

        changeFontWeight(value) {
            document.body.style.fontWeight = value;
            this.resetPluginStyles();
        }

        changeLetterSpacing(value) {
            document.body.style.letterSpacing = `${value}px`;
            this.resetPluginStyles();
        }

        changeLineHeight(value) {
            document.body.style.lineHeight = value;
            this.resetPluginStyles();
        }

        changeBackgroundColor(value) {
            document.body.style.backgroundColor = value;
            document.body.style.color = value === 'black' ? 'white' : 'black';
            this.resetPluginStyles();
        }

        emphasizeLinks(checked) {
            const links = document.getElementsByTagName('a');
            for (let link of links) {
                if (!this.wrapper.contains(link)) {
                    if (checked) {
                        link.classList.add('uk-text-bold');
                        link.style.textDecoration = 'underline';
                    } else {
                        link.classList.remove('uk-text-bold');
                        link.style.textDecoration = '';
                    }
                }
            }
        }

        resetPluginStyles() {
            this.wrapper.style.cssText = `
            font-size: 16px !important;
            font-weight: normal !important;
            letter-spacing: normal !important;
            line-height: normal !important;
            background-color: transparent !important;
            color: inherit !important;
        `;
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        const accessibilityPlugin = new AccessibilityPlugin();
    });
    </script>

    <style>
    #accessibility-wrapper {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
    }

    #accessibility-toggle {
        position: absolute;
        bottom: 0;
        right: 0;
    }

    #accessibility-panel {
        position: absolute;
        bottom: 50px;
        right: 0;
        width: 300px;
        max-height: 80vh;
        overflow-y: auto;
        border: 1px solid black;
    }

    #accessibility-wrapper,
    #accessibility-wrapper * {
        font-size: 16px !important;
        font-weight: normal !important;
        letter-spacing: normal !important;
        line-height: normal !important;
        background-color: transparent !important;
        color: inherit !important;
    }

    #accessibility-wrapper .uk-card {
        background-color: #f8f8f8 !important;
        color: #333 !important;
    }

    #accessibility-wrapper .uk-button {
        background-color: #1e87f0 !important;
        color: white !important;
    }
    </style>
	<!-- /AccessMate -->
